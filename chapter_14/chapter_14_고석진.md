# HTTP

## 보안 HTTP

## 14.1 HTTP 를 안전하게 만들기

중요한 트랜잭션을 위해서는 HTTP 와 디지털 암호화 기술을 결합해야 한다.
HTTP 의 보안 버전은 효율적이고, 이식성이 좋아야 하고, 관리가 쉬워야 하며, 현실 세계의 변화에 대한 적응력이 좋아야 한다.

### 14.1.1 HTTPS 

HTTPS 를 사용할 때, 모든 HTTP 요청과 응답 데이터는 네트워크로 보내지기 전에 암호화된다.
HTTPS 는 HTTP 의 하부에 전송 레벨 암호 보안 계층을 제공함으로써 동작하는데, 이 보안 계층은 안전 소켓 계층 혹은 그를 계씅한 전송 계층 보안을 이용하여 구현된다.
SSL 과 TLS 는 매우 비슷하다.

## 14.2 디지털 암호학 

- 암호: 텍스트를 아무나 읽지 못하도록 인코딩하는 알고리즘
- 키: 암호의 동작을 변경하는 숫자로 된 매개변수
- 대칭키 암호 체계: 인코딩과 디코딩에 같은 키를 사용하는 알고리즘
- 비대칭키 암호 체계: 인코딩과 디코딩에 다른 키를 사용하는 알고리즘
- 공개키 암호법: 비밀 메시지를 전달하는 수백만 대의 컴퓨터를 쉽게 만들 수 있는 시스템
- 디지털 서명: 메시지가 위조 혹은 변조되지 않았음을 입증하는 체크섬
- 디지털 인증서: 신뢰할 만한 조직에 의해 서명되고 검증된 신원 확인 정보 

### 14.2.1 비밀 코드의 기술과 과학 

암호법은 메시지 인코딩과 디코딩에 대한 기술이다. 암호법은 단순히 볼 수 없도록 메시지를 암호화하는 것뿐 아니라 
메시지의 변조를 방지하기 위해 사용할 수도 있다.

### 14.2.2 암호

암호법은 암호라 불리는 비밀 코드에 기반한다. 암호란 메시지를 인코딩하는 어떤 특정한 방법과 나중에 그 비밀 메시지를 디코딩하는 방법이다.
인코딩되기 전의 원본 메시지는 흔히 텍스트 혹은 평문이라고 불린다.
암호가 적용되어 코딩된 메시지는 보통 암호문이라고 불린다.

### 14.2.3 암호 기계

기술이 진보하면서 복잡한 암호로 메시지를 빠르고 정확하게 인코딩하고 디코딩하는 기계를 만들기 시작하였다.
암호 기계는 암호를 깨뜨리기 어렵게 하기 위해, 단순히 회전을 하는 대신 글자들을 대체하고, 순서를 바꾸며 메시지를 자르고 토막내었다.

### 14.2.4 키가 있는 암호 

대부분의 기계들에는 암호의 동작방식을 변경할 수 있는 큰 숫자로 된 다른 값을 설정할 수 있는 다이얼이 달려있다.
누군가 기계를 훔치더라도 올바른 다이얼 설정이 없이는 디코더가 동작하지 않을 것이다.
암호 키는 하나의 암호 기계를 여러 가상 암호 기계의 집합처럼 만들어준다.
가상 암호 기계들은 서로 다른 키 값을 갖고 있기 때문에 제각각 다르게 동작한다.
암호 알고리즘은 'N 번 회전' 암호다. N 의 값은 키에 의해 좌우된다. 같은 메시지가 같은 인코딩 기계를 통과하더라도 키의 값에 따라 다른 출력을 생성한다.

### 14.2.5 디지털 암호 

- 속도 및 기능에 대한 기계 장치의 한계에서 벗어남으로써, 복잡한 인코딩과 디코딩 알고리즘이 가능해졌다.
- 큰 키를 지원하는 거이 가능해져서, 단일 암호 알고리즘으로 키의 값마다 다른 수조 개의 가상 암호 알고리즘을 만들어 낼 수 있게 되었다.

기계 장치의 물리적인 금속 키나 다이얼 설정과는 달리, 디지털 키는 그냥 숫자에 불과하다. 
디지털 키 값은 인코딩과 디코딩 알고리즘에 대한 입력값이다. 
코딩 알고리즘은 데이터 덩어리를 받아서 알고리즘과 키의 값에 근거하여 인코딩하거나 디코딩하는 함수이다.

## 14.3 대칭키 암호법 

디지털 암호 알고리즘은 대칭키 암호라 불리는데, 그들이 인코딩 할 때 사용하는 키가 디코딩을 할 때와 같기 때문이다.
대칭키 암호에서 발송자와 수신자 모두 통신을 위해 비밀 키 k 를 똑같이 공유할 필요가 있다.
발송자는 공유된 비밀 키를 메시지를 암호화하고 결과인 암호문을 수신자에게 발송하기 위해 사용한다.
수신자는 암호문을 받은 뒤 같은 공유된 키를 사용하여 평문을 복원하기 위해 해독 함수를 적용한다.

### 14.3.1 키 길이와 열거 공격 

좋은 암호 알고리즘은 공격자가 코드를 크래킹하려면 존재하는 모든 가능한 키 값을 시도해보는 것 외에 다른 방법이 없게 만든다.
가능한 키 값의 개수는 키가 몇 비트이며 얼마나 많은 키가 유효한지에 달려있다.
대칭키 암호에서는 모든 키 값이 유효하다. 
평범한 대칭키 암호에서, 40비트 키는 작고 중요하지 않은 업무에는 충분하다고 할 수 있다.
128비트 키를 사용한 대칭키 암호는 매우 강력하다.

### 14.3.2 공유키 발급하기

대칭키 암호의 단점 중 하나는 발송자와 수신자가 서로 대화하려면 둘 다 공유키를 가져야 한다는 것이다.

### 14.4 공개키 암호법 

한 쌍의 호스트가 하나의 인코딩/디코딩 키를 사용하는 대신, 공개키 암호 방식은 두 개의 비대칭 키를 사용한다.












