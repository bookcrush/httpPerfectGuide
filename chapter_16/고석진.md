# HTTP

## 국제화

HTTP 는 여러 언어와 문자로 된 국제 문서들의 처리 및 전송을 지원해야 한다.

## 16.1 국제적인 콘텐츠를 다루기 위해 필요한 HTTP 지우너 

HTTP 메시지는 어떤 언어로 된 콘텐츠든 미디어처럼 실어 나를 수 있다. HTTP 에서 엔터티 본문이란 비트들로 가득 찬 상자에 불과하다.
국제 콘텐츠를 지원하기 위해, 서버는 클라이언트에게 문서의 문자와 언어를 알려줘서, 클라이언트가 올바르게 문서를 이루고 있는 비트들을 문자들로
풀어내고, 올바르게 처리해서 사용자에게 콘텐츠를 제공할 수 있도록 할 필요가 있다.

서버는 클라이언트에게 문서의 문자와 언어를 HTTP Content-Type charset 매개변수와 Content-Language 헤더를 통해 알려준다.
클라이언트는 서버에게 어떤 언어를 이해할 수 있고 알파벳의 코딩 알고리즘이 브라우저에 설치되어 있는지 Aceept-Charset, Accept-Language 를
이용하여 알려줄 필요가 있다.

```text
Accept-Language: fr, en;q=0.8
Accept-Charset: iso-8859-1, utf-8
```

## 16.2 문자집합과 HTTP

### 16.2.1 Charset 은 글자를 비트로 변환하는 인코딩이다

HTTP Charset 값은, 어떻게 엔터티 콘텐츠 비트들을 특정 문자 체계의 글자들로 바꾸는지 말해준다.
Charset 태그는 비트들을 글자들로 변환하거나 그 반대의 일을 해주는 알고리즘을 명명한다.

```text
Content-Type: text/html; charset=iso-8859-6
```

Content-type 헤더는 수신자에게 콘텐츠가 HTML 파일임을 말해주고, charset 매개변수는 수신자에게 콘텐츠 비트들을 그랒들로
디코딩하기 위해 ios-8859-6 아랍 문자집합 디코딩 기법을 사용하라고 말해준다.

ios-8859-6 인코딩 구조는 8비트 값을 숫자와 구두점 그리고 다른 기호들을 포함한 라틴 문자와 아랍 문자로 매핑한다.

### 16.2.2 문자집합과 인코딩은 어떻게 동작하는가 ?

- 문서를 이루는 비트들은, 특정 코딩된 문자집합의 특정 문자로 식별될 수 있는 문자 코드로 변환된다.
- 문자 코드는 코딩된 문자집합의 특정 요소를 선택하기 위해 사용된다.
- 단계에서 사용되는 알고리즘은 MIME charset 태그를 통해 결정된다.

국제화된 문자 시스템의 핵심 목표는 표현에서 의미를 분리하는 것이다.
HTTP 는 문자 데이터 및 그와 관련된 언어와 charset 라벨의 전송에만 관심을 갖는다.

### 16.2.3 잘못된 Charset 은 잘못된 글자들을 낳는다

클라이언트가 잘못된 charset 매개변수를 사용한다면, 클라이언트는 이상한 깨진 글자를 보여주게 될 것이다.

// 후에 그림 추가

### 16.2.4 표준화된 MIME Charset 값 

특정 문자 인코딩과 특정 코딩된 문자집합의 결합을 MIME Charset 이라고 부른다.
HTTP 는 표준화된 MIME Charset 태그를 Content-Type 과 Acccept-Charset 헤더에 사용한다.

[Character Sets](https://www.iana.org/assignments/character-sets/character-sets.xhtml)

### 16.2.5 Content-Type charset 헤더와 META 태그

```
Content-Type: text/html; charset=ios-2022-jp
```

웹 서버는 클라이언트에게 MIME Charset 태그를 charset 매개변수와 함께 Content-Type 에 담아 보낸다.
만약 문자집합이 명시적으로 나열되지 않았다면, 수신자는 문서의 콘텐츠로부터 문자집합을 추측하려 시도한다.
HTML Content 에서 문자 집합은 문자 집합을 서술하는 <META HTTP-EQUIV="Content-Type"> 태그에서 찾을 수 있다.
만약 클라이언트가 문자 인코딩을 추측하지 못했다면, iso-8859-1 인것으로 가정한다.

### 16.2.6 Accept-Charset 헤더 

대부분의 클라이언트는 모든 종류의 문자 코딩과 매핑 시스템을 지원하지 않는다.
HTTP 클라이언트는 서버에게 정확히 어떤 문자 체계를 그들이 지원하는지 Accept-Charset 요청 헤더를 통해 알려준다.
Accpt-Charset 헤더의 값은 클라이언트가 지원하는 문자 인코딩의 목록을 제공한다.
문자 인코딩 구조중 어떤 것으로 콘텐츠를 반환할지는 서버의 자유다.

Accept-Charset 요청 헤더에 대응하는 Content-Charset 응답 헤더는 존재하지 않는다.
응답 문자집합은 MIME 과의 호환을 위해 Content-Type 응답 헤더의 charset 매개변수를 통해 서버로부터 돌려받는다.



































